(this["webpackJsonpblip-plugin"]=this["webpackJsonpblip-plugin"]||[]).push([[5],{118:function(t,i,n){"use strict";n.d(i,"a",(function(){return h})),n.d(i,"b",(function(){return u})),n.d(i,"c",(function(){return o}));var e=/^\w+([.+,-]\w+)*@\w+([.-]\w+)*\.\w{2,}$/,r=/\S/,s=/^[0-9]*$/,h=function(t){if(t&&!e.test(t))return!0},u=function(t){if(t&&!s.test(t))return!0},o=function(t){return r.test(t)}},95:function(t,i,n){"use strict";n.r(i),n.d(i,"bds_input_chips",(function(){return o}));var e=n(14),r=n(118),s=function(t,i,n,e){function r(t){return t instanceof n?t:new n((function(i){i(t)}))}return new(n||(n=Promise))((function(n,s){function h(t){try{o(e.next(t))}catch(i){s(i)}}function u(t){try{o(e.throw(t))}catch(i){s(i)}}function o(t){t.done?n(t.value):r(t.value).then(h,u)}o((e=e.apply(t,i||[])).next())}))},h=function(t,i){var n,e,r,s,h={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(t){return function(i){return o([t,i])}}function o(s){if(n)throw new TypeError("Generator is already executing.");for(;h;)try{if(n=1,e&&(r=2&s[0]?e.return:s[0]?e.throw||((r=e.return)&&r.call(e),0):e.next)&&!(r=r.call(e,s[1])).done)return r;switch(e=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return h.label++,{value:s[1],done:!1};case 5:h.label++,e=s[1],s=[0];continue;case 7:s=h.ops.pop(),h.trys.pop();continue;default:if(!(r=(r=h.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){h=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){h.label=s[1];break}if(6===s[0]&&h.label<r[1]){h.label=r[1],r=s;break}if(r&&h.label<r[2]){h.label=r[2],h.ops.push(s);break}r[2]&&h.ops.pop(),h.trys.pop();continue}s=i.call(t,h)}catch(u){s=[6,u],e=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},u=function(t,i){for(var n=0,e=i.length,r=t.length;n<e;n++,r++)t[r]=i[n];return t},o=function(){function t(t){Object(e.i)(this,t),this.bdsChange=Object(e.e)(this,"bdsChange",7),this.bdsChangeChips=Object(e.e)(this,"bdsChangeChips",7),this.bdsBlur=Object(e.e)(this,"bdsBlur",7),this.bdsSubmit=Object(e.e)(this,"bdsSubmit",7),this.internalChips=[],this.chips=[],this.type="text",this.label="",this.icon="",this.delimiters=/,|;/,this.errorMessage="",this.danger=!1,this.value="",this.duplicated=!1,this.disableSubmit=!1}return t.prototype.valueChanged=function(){if(this.chips)if("string"===typeof this.chips)try{this.internalChips=JSON.parse(this.chips)}catch(t){this.internalChips=[]}else this.internalChips=this.chips;else this.internalChips=[]},t.prototype.internalValueChanged=function(){this.bdsChangeChips.emit({data:this.internalChips,value:this.getLastChip()})},t.prototype.isValid=function(){return s(this,void 0,void 0,(function(){return h(this,(function(t){return[2,this.validateChips()]}))}))},t.prototype.get=function(){return s(this,void 0,void 0,(function(){return h(this,(function(t){return[2,this.internalChips]}))}))},t.prototype.clear=function(){return s(this,void 0,void 0,(function(){return h(this,(function(t){return this.internalChips=[],this.value="",[2]}))}))},t.prototype.add=function(t){return s(this,void 0,void 0,(function(){return h(this,(function(i){return this.setChip(t),[2]}))}))},t.prototype.setFocus=function(){return s(this,void 0,void 0,(function(){return h(this,(function(t){return this.nativeInput.setFocus(),[2]}))}))},t.prototype.removeFocus=function(){return s(this,void 0,void 0,(function(){return h(this,(function(t){return this.nativeInput.removeFocus(),[2]}))}))},t.prototype.componentWillLoad=function(){this.valueChanged()},t.prototype.validateChips=function(){var t=this;return"email"!==this.type||!this.internalChips.some((function(i){return!t.validateChip(i)}))},t.prototype.handleOnBlur=function(){this.bdsBlur.emit(this.internalChips)},t.prototype.handleAddChip=function(t){if(!this.disableSubmit){var i=t.detail.value;this.setChip(i),this.value=""}},t.prototype.getLastChip=function(){return this.internalChips[this.internalChips.length-1]},t.prototype.handleBackRemove=function(t){var i=t.detail.value;(null===i||i.length<=0)&&this.internalChips.length&&(this.removeLastChip(),this.bdsChangeChips.emit({data:this.internalChips,value:i}))},t.prototype.verifyAndSubstituteDelimiters=function(t){if(1===t.length&&t[0].match(this.delimiters))return"";var i=t.replace(/;/g,",").replace(/\,+|;+/g,",");return i[0].match(this.delimiters)&&(i=i.substring(1)),i},t.prototype.handleChange=function(t){return s(this,void 0,void 0,(function(){var i,n,e=this;return h(this,(function(r){return i=t.detail.value,this.value=i?i.trim():"",0===i.length?[2]:i.match(this.delimiters)?(n=this.verifyAndSubstituteDelimiters(i))?(n.split(this.delimiters).forEach((function(t){e.setChip(t)})),this.clearInputValues(),[2]):(this.clearInputValues(),[2]):[2]}))}))},t.prototype.clearInputValues=function(t){void 0===t&&(t=""),this.nativeInput.value=t,this.value=t},t.prototype.setChip=function(t){if(!this.duplicated&&this.internalChips.some((function(i){return i.toLowerCase()===t.toLowerCase()})))return;Object(r.c)(t)&&(this.internalChips=u(u([],this.internalChips),[t]))},t.prototype.validateChip=function(t){var i=t.trim();return"email"!==this.type||!Object(r.a)(i)},t.prototype.removeLastChip=function(){this.internalChips=this.internalChips.slice(0,this.internalChips.length-1)},t.prototype.removeChip=function(t){var i=t.detail.id;this.internalChips=this.internalChips.filter((function(t,n){return n.toString()!==i}))},t.prototype.renderChips=function(){var t=this;return this.internalChips.length?this.internalChips.map((function(i,n){var r=n.toString();return Object(e.g)("bds-chip",{class:"input-chips__chip",id:r,key:r,variant:"primary",danger:!t.validateChip(i),deletable:!0,onBdsDelete:function(i){return t.removeChip(i)}},i)})):[]},t.prototype.render=function(){var t=this;return Object(e.g)(e.b,null,Object(e.g)("bds-input",{ref:function(i){return t.nativeInput=i},icon:this.icon,label:this.label,onBdsKeyDownBackspace:function(i){return t.handleBackRemove(i)},onBdsSubmit:function(i){return t.handleAddChip(i)},onBdsOnBlur:function(){return t.handleOnBlur()},onBdsChange:function(i){return t.handleChange(i)},maxlength:this.maxlength,value:this.value,"error-message":this.errorMessage,danger:this.danger,chips:!0},Object(e.g)("span",{slot:"inside-input-left"},this.renderChips()),Object(e.g)("div",{slot:"input-right"},Object(e.g)("slot",{name:"input-right"}))))},Object.defineProperty(t,"watchers",{get:function(){return{chips:["valueChanged"],internalChips:["internalValueChanged"]}},enumerable:!1,configurable:!0}),t}();o.style=".sc-bds-input-chips-h{display:block}.input-chips__chip.sc-bds-input-chips{margin:2px 4px 2px 0px}.input-chips__chips.sc-bds-input-chips{-ms-flex:1;flex:1}"}}]);
//# sourceMappingURL=5.4257e758.chunk.js.map